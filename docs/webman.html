<?xml version="1.0" encoding="latin-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=latin-1" />
<meta name="generator" content="Docutils 0.3.6: http://docutils.sourceforge.net/" />
<title>Lino WebMan</title>
<link rel="stylesheet" href="default.css" type="text/css" />
</head>
<body>
<table class="mainTable">
			<tr>
			<td valign="top" class="leftArea">
				<p class="menu">
	<a href="index.html">Home</a>
	<br><a href="http://sourceforge.net/projects/lino/">Forge</a>
	</p>
	
	<p class="copyright">
	&copy; 2001-2004
	<br><a href="mailto:luc.saffre@gmx.net">Luc Saffre</a>
	<br>
	
	<br><a href="http://sourceforge.net">
	<img src="http://sourceforge.net/sflogo.php?group_id=87016&type=1"
   width="88" height="31" border="0" alt="SourceForge.net Logo" /></a>
	</p>
	<br><a href="overview.html">overview</a><br>&nbsp;<a href="adamo/index.html">adamo</a><br>&nbsp;<a href="timtools.html">timtools</a><br>&nbsp;<a href="wui.html">wui</a><br>&nbsp;webman<br>&nbsp;<a href="pds/index.html">pds</a><br><a href="faq.html">faq</a><br><a href="links.html">links</a><br><a href="install.html">install</a><br>&nbsp;<a href="start.html">start</a><br><a href="news.html">news</a><br>&nbsp;<a href="_oops.html">2002</a><br>&nbsp;<a href="_oops.html">2003</a><br>&nbsp;<a href="history.html">history</a></td>
			<td class="textArea"><h1 class="title">Lino WebMan</h1>
<div class="document" id="lino-webman">
<div class="contents topic" id="contents">
<p class="topic-title first"><a name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#introduction" id="id1" name="id1">Introduction</a></li>
<li><a class="reference" href="#using-webman" id="id2" name="id2">Using WebMan</a></li>
<li><a class="reference" href="#extensions-to-docutils" id="id3" name="id3">Extensions to docutils</a><ul>
<li><a class="reference" href="#the-exec-directive" id="id4" name="id4">The <cite>exec</cite> directive</a></li>
<li><a class="reference" href="#fileref" id="id5" name="id5">fileref</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h1><a class="toc-backref" href="#id1" name="introduction">Introduction</a></h1>
<p>I wrote WebMan to create and maintain this site because as author I
wanted to use the reStructuredText format to write my content, and as
webmaster I saw the need to extend the raw docutils tools.</p>
<p>Features:</p>
<ul class="simple">
<li>authored articles are simple reStructuredText source files.</li>
<li>an &quot;exec&quot; directive for docutils to execute arbitrary Python code
during the txt-to-html conversion.</li>
<li>(not implemented) web sites with multiple content modules</li>
</ul>
</div>
<div class="section" id="using-webman">
<h1><a class="toc-backref" href="#id2" name="using-webman">Using WebMan</a></h1>
<p>Besides Python and docutils you must <a class="reference" href="install.html#get-the-sources">get the sources</a> for Lino.</p>
<p>A WebMan &quot;web module&quot; is a single directory containing plain
reStructuredText files and a configuration file <cite>init.py</cite>.  So create
a new directory with some <cite>*.txt</cite> files and your customized copy of
<a class="reference" href="http://cvs.sourceforge.net/viewcvs.py/lino/lino/docs/init.py?view=markup">init.py</a>.</p>
<p>Launch <a class="reference" href="scripts.html#webman">webman.py</a>
with your directory as
first parameter.</p>
<p>Or, adapt the script <cite>webmandemo.py</cite> to launch a web server on your
web module. Note that intra-site links don't work when WebMan serves
dynamically.</p>
</div>
<div class="section" id="extensions-to-docutils">
<h1><a class="toc-backref" href="#id3" name="extensions-to-docutils">Extensions to docutils</a></h1>
<div class="section" id="the-exec-directive">
<h2><a class="toc-backref" href="#id4" name="the-exec-directive">The <cite>exec</cite> directive</a></h2>
<p>WebMan adds a new <cite>exec</cite> directive to reStructuredText.  This is used
to execute arbitrary Python code when the document is parsed, thus
creating dynamic content.</p>
<p>The output of the code in an <cite>exec</cite> directive is supposed to be
reStructuredText which will be parsed itself and inserted into the
document. (This works similar to the existing <cite>include</cite> directive.)</p>
<p>Example: here are some <em>Fibonacci</em> series, generated using the <cite>exec</cite>
directive:</p>
<blockquote>
<p>The <em>Fibonacci</em> series up to <strong>10</strong> : 
1 1 2 3 5 8</p>
<p>The <em>Fibonacci</em> series up to <strong>100</strong> : 
1 1 2 3 5 8 13 21 34 55 89</p>
</blockquote>
<p>If you look at the <a class="reference" href="webman.txt">source code</a> of this page, you see
the following Python code that was executed when this page has been
generated:</p>
<pre class="literal-block">
.. exec::

   def fib(n):  # write Fibonacci series up to n
      &quot;&quot;&quot;Print a Fibonacci series up to n.&quot;&quot;&quot;
      a, b = 0, 1
      while b &lt; n:
         print b,
         a, b = b, a+b

   print &quot;The *Fibonacci* series up to **%d** : &quot; % 10
   fib(10)

   print &quot;\n&quot;

   print &quot;The *Fibonacci* series up to **%d** : &quot; % 100
   fib(100)
</pre>
<p>The global Python namespace is the same for all <cite>exec</cite> runs within a
document.  The <cite>fib()</cite> function is still known during the following
second <cite>exec</cite>.&quot;</p>
<blockquote>
Again te <em>Fibonacci</em> series up to <strong>100</strong> : 
1 1 2 3 5 8 13 21 34 55 89</blockquote>
<p>It is okay to have is no output at all, which can be useful to do some
initializing or import at the beginning of a document.</p>
<!-- `WebModule.siteMap()` muss die hierarchische Liste aller
txt-Dateien des Moduls zurück geben.  Die Dateien an sich sind
flach strukturiert, aber der site map definiert ihre
Hierarchie. Warning wenn sitemap nicht komplett ist.  Sitemap muss
leicht editierbar sein. -->
</div>
<div class="section" id="fileref">
<h2><a class="toc-backref" href="#id5" name="fileref">fileref</a></h2>
<p>I am still working on a solution to refer easily to source files of
the project.</p>
<p>Something like:</p>
<pre class="literal-block">
Don't execute `setup.py &lt;fileref:/setup.py&gt;`_ because it does
not work yet.
</pre>
<p>Would create something like:</p>
<blockquote>
Don't execute <a class="reference" href="http://cvs.sourceforge.net/viewcvs.py/lino/lino/setup.py?rev=1.2&amp;view=auto">setup.py</a>
because it does not work yet.</blockquote>
<!-- Weshalb bin ich mein eigenes CMS (webman) am schreiben, wo
es doch so viele bestehende Projekte gibt?

- Andere Namen : yawn, yet another web n...

- Ich will mehr als ein Wiki

- Ich will wenn möglich statisches HTML beim Provider verwenden.
  Heutzutage wird für meinen Geschmack viel zu viel dynamisches HTML
  verwendet. Oops... Was rede ich da? Und was ist mit user-specific
  content, searches und forms?  Okay, dynamisches Ausliefern muss
  möglich sein, aber ich will eine Website auch einfrieren können auf
  CD. -->
</div>
</div>
</div>
</td></tr></table></body>
</html>
<div class="bottomArea"><p class="footer">This page was generated on Wed Sep 22 16:43:02 2004 by Lino <a href="webman.html">WebMan</a> version 0.6.2pre.</div>